{% extends 'base.html.twig' %}

{% block title %}Zoo Arcadia{% endblock %}

{% block stylesheets %}

{% endblock %}


{% block body %}
<link rel="stylesheet" href="{{asset('css/acceuil.css')}}">

<div class="top-container" style="background-image:url( {{ asset('images/parc/big.png') }} )">
  <img src="{{ asset('images/logos/logo-blanc.svg')}}" class="image img-fluid logo">
</div>
<div class="dark d-flex justify-content-center text-center">
  <div>
    <h1>Arcadia</h1>
    <p> Le parc animalier de vos rêves</p>
  </div>
</div>
<div class="primary d-flex justify-content-around text-center">
  <div>
    <h2> Découvrez nos habitats</h2>
    <p class="d-none d-lg-block">Conçus pour reproduire les conditions de vie des animaux dans leur milieu naturel</p>
  </div>
</div>
<div class="darker d-flex justify-content-around">
  <div id="carouselExampleCaptions" class="carousel slide carousel-fade">
    <div class="carousel-indicators">
      {% for habitat in habitats %}
        {% if loop.first %}
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="{{ loop.index0 }}" class="active" aria-current="true" aria-label="Slide {{ loop.index }}"></button>
        {% else %}
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="{{ loop.index0 }}" aria-label="Slide {{ loop.index }}"></button>
        {% endif %}
      {% endfor %}
    </div>
    <div class="carousel-inner">
    {% for habitat in habitats %}
      {% if loop.first %}
        <div class="carousel-item active">
      {% else %}
        <div class="carousel-item">
      {% endif %}
          <a href="/habitats/show/{{habitat.id}}"><img src="{{ asset('images/habitat/' ~ habitat.imageName)}}" class="d-block image-habitat" alt="..."></a>
          <div class="carousel-caption d-none d-md-block">
            <h5>{{ habitat.nom }}</h5>
          </div>
      </div>
    {% endfor %}
      
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</div>
<div class="dark" id="animal-container">
  <div class="text-center">
    <h2> Nos animaux</h2>
    <p> Portraits de nos animaux les plus populaires</p>
  </div>
  <div class="container">
    <div class="row" id="4animaux">
      {% for animal in animaux %}
        <div class="col-sm-12 col-lg-3 d-flex mt-3 mb-3">
          <div class="card">
            <a href="/animal/show/{{animal.id}}"><img src="{{ asset('images/animal/' ~ animal.imageName)}}" class="card-img-top animal-image" alt="..."></a>
            <div class="card-body">
              <h5 class="card-title text-dark text-center">{{ animal.prenom }}</h5>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>

    </div>
  </div>

</div>

<div class="darker d-flex justify-content-around text-center">
  <div>
    <h2> Découvrez nos services</h2>
    <p class="d-none d-lg-block">Pour rendre votre visite inoubliable</p>
  </div>
</div>
<div class="white" id="services-container" style="background-image:url({{asset('images/parc/birds.webp')}})">
  <div class="container">
    <div class="row">
      {% for service in services %}
        <div class="col-sm-12 col-lg-4 d-flex mt-3 mb-3">
          <div class="card">
            <div class="card-header text-white">
              <h5>{{ service.nom }}</h5>
            </div>
            <div class="card-body text-dark">
              <p class="card-text">{{ service.description }}</p>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>
<div class="primary d-flex justify-content-center">
  <H2>Ils en parlent ! </H2>
</div>
<div class="darker" id="avis-container">
  <div id="carouselAvis" class="carousel slide carousel-fade">
    <div class="container">
      <div class="carousel-inner">
        {% if avis is empty %}
          <p>Il n'y a pas encore d'avis</p>
        {% endif %}
        {% for singleAvis in avis %}
          {% if loop.first  %}
            <div class="carousel-item active">
          {% else %}
            <div class="carousel-item">
          {% endif %}
              <div class="card avis-card  mt-3 mb-5">
                <div class="card-header d-flex justify-content-between text-white">
                  <h5 class="card-title">{{singleAvis.pseudo}}</h5>
                  <div class="notation">
                  {% for star in range(1, 5) %}  
                    {% if star <= singleAvis.note %} 
                        <i class="fa-solid fa-star"></i>
                    {% else %}
                        {% if star - 0.5 <= singleAvis.note %} 
                            <i class="fa-solid fa-star-half"></i>
                        {% else %}
                            <i class="fa-regular fa-star"></i>
                        {% endif %}
                    {% endif %}
                  {% endfor %}
                  </div>
                  
                </div>
                <div class="card-body text-dark">
                  <p class="card-text text-muted text-center">{{singleAvis.getCreatedAt|date('d/m/Y')}}</p>
                  <p class="card-text text-center">{{ singleAvis.getAvisContent }}</p>
                </div>
              </div>
            </div>
        {% endfor %}
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselAvis" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselAvis" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</div>
<div class="dark d-flex justify-content-center">
  <div>
    <div class="container">
      <h2>Déposer un avis:</h2>
      {{ form_start(avisForm,{'action': path('app_avis_create'), 'method':'POST'}) }}
        <p> Mon avis concerne le zoo 
            {{ form_widget(avisForm.zoo, {'attr': {'class': 'form-control', 'required': true}}) }}
        </p>
        <div class="mb-3">
            {{ form_label(avisForm.pseudo, 'Entrez un nom:', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(avisForm.pseudo, {'attr': {'class': 'form-control', 'placeholder': 'Pseudo', 'required': true}}) }}
        </div>
        <div class="mb-3">
            {{ form_label(avisForm.note, 'Notez le parc:', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(avisForm.note, {'attr': {'class': 'form-control', 'min': 0, 'max': 5, 'required': true}}) }}
        </div>
        <div class="mb-3">
            {{ form_label(avisForm.Avis_content, 'Entrez votre avis:', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(avisForm.Avis_content, {'attr': {'class': 'form-control', 'placeholder': 'Avis', 'rows': 5, 'required': true}}) }}
        </div>
        <div class="mb-5 d-flex justify-content-center">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>
        {{ form_end(avisForm) }}
    </div>
    
  </div>
</div>


<div class="white d-flex justify-content-center">
  <H5 class="text-dark">Horaires</H5>
</div>
<div class="darker d-flex justify-content-center">
  <div class="table-responsive">
    <table class="table table-striped">
      {% if horaires is empty %}
      <p>Les horaires ne sont pas encore disponibles</p>
      {% else %}
      {% for horaire in horaires %}
        <tr>
          <td>{{ horaire.jour }}</td>
          {% if horaire.isOuvert %}
          <td>{{ horaire.HOuverture|date ('H:i')  }}</td>
          <td>{{ horaire.HFermeture|date ('H:i') }}</td>
          {% else %}
          <td>Fermé</td>
          <td>Fermé</td>
          {% endif %}
        </tr>
        {% endfor %}
      {% endif %}
    </table>
  </div>
</div>


{% endblock %}
